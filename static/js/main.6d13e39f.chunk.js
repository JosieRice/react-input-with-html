(this["webpackJsonpreact-input-with-html-example"]=this["webpackJsonpreact-input-with-html-example"]||[]).push([[0],{14:function(e,n,t){},15:function(e,n,t){"use strict";t.r(n);t(5);var o=t(0),r=t.n(o),a=t(1),l=t.n(a),i=t(3),c=t(2);var u=function(e,n,t){for(var o,r=function(e){for(var n,t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);n=o.nextNode();)t.push(n);return t}(e),a=0;a<r.length;a++){if(!(n>r[a].nodeValue.length&&r[a+1])){o=r[a];break}n-=r[a].nodeValue.length}return o?{node:o,position:n}:(t(-1),{node:o,position:-1})},d=function(e){var n=e.id,t=e.value,a=e.placeholder,l=e.modifierArr,i=e.disabled,d=void 0!==i&&i,s=e.spellCheck,f=void 0===s||s,p=e.onChange,h=e.onSubmit,v=e.onBlur,g=e.onKeyUp,m=e.onKeyDown,b=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,["id","value","placeholder","modifierArr","disabled","spellCheck","onChange","onSubmit","onBlur","onKeyUp","onKeyDown"]),y=Object(o.useState)(""),S=y[0],w=y[1],E=Object(o.useState)(-1),x=E[0],M=E[1];Object(o.useEffect)((function(){var e=document.getElementById(n),t=u(e,x,M);t.node&&function(e){var n=window.getSelection(),t=document.createRange();n&&e&&e.node&&e.position>=0&&e.node.nodeValue&&e.node.nodeValue.length>=e.position&&(t.setStart(e.node,e.position),t.collapse(!0),n&&(n.removeAllRanges(),n.addRange(t)))}(t)}),[S]),Object(o.useEffect)((function(){if(t){var e=C(t);w(e)}else t||w("")}),[t]);var O,k=function(e){var n=13===e.keyCode;if(n&&h)return e.preventDefault(),void h();if(n)e.preventDefault();else{var t=e.currentTarget,o=function(e){var n=0;if("undefined"!==typeof window.getSelection){var t,o=null===(t=window.getSelection())||void 0===t?void 0:t.getRangeAt(0),r=null===o||void 0===o?void 0:o.toString().length,a=null===o||void 0===o?void 0:o.cloneRange();a.selectNodeContents(e),a.setEnd(o.endContainer,o.endOffset),n=a.toString().length-r}return n}(t);p(t.innerText),M(o)}},C=function(e){var n=Object(c.clone)(e);l.map((function(n){var t=n.regexMatch.test(e);return n.match=t,n})).forEach((function(e){if(e.match){var t,o=null===(t=n)||void 0===t?void 0:t.match(e.regexMatch),r=[].concat(new Set(o));null===r||void 0===r||r.forEach((function(t){var o="string"===typeof e.htmlMod?e.htmlMod:e.htmlMod(t);if("function"===typeof e.htmlMod){var r,a=new RegExp(t,"g");n=null===(r=n)||void 0===r?void 0:r.replace(a,o)}else{var l;n=null===(l=n)||void 0===l?void 0:l.replace(e.regexMatch,o)}}))}}));return n.replace(/\r?\n|\r/g,""),n};return r.a.createElement("div",{style:{position:"relative",display:"table",margin:"0 auto"}},r.a.createElement("div",Object.assign({id:n,style:{whiteSpace:"pre",overflow:"hidden"},contentEditable:!d,onInput:k,onBlur:v||k,onKeyUp:g||k,onKeyDown:m||k,dangerouslySetInnerHTML:{__html:(O=S,O&&O.replace(/&nbsp;|\u202F|\u00A0/g," "))},spellCheck:f},b)),a&&!t&&r.a.createElement("div",{style:{position:"absolute",top:0,left:0},id:n+"-placeholder"},a))},s=(t(14),function(){var e=Object(o.useState)(""),n=Object(i.a)(e,2),t=n[0],a=n[1],l=[{regexMatch:/#[0-9A-F]{6}/gi,htmlMod:function(e){return'<span class="hex-dot" style="--color: '.concat(e,';">').concat(e,"</span>")}},{regexMatch:/\+/g,htmlMod:'<span style="color: #a3a3a3">+</span>'}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"Search for your stuff"),r.a.createElement(d,{id:"input",value:t,placeholder:"Search our curated collection",onChange:a,onSubmit:function(){console.log("input on submit: ",t)},modifierArr:l,spellCheck:!1}))});l.a.render(r.a.createElement(s,null),document.getElementById("root"))},4:function(e,n,t){e.exports=t(15)},5:function(e,n,t){}},[[4,1,2]]]);
//# sourceMappingURL=main.6d13e39f.chunk.js.map